{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gheza/OneDrive/Bureau/RKauto/RKauto2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/gheza/OneDrive/Bureau/RKauto/RKauto2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/gheza/OneDrive/Bureau/RKauto/RKauto2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import axios from\"axios\";import Carousel from\"../Caroussel/Caroussel\";import\"../Caroussel/Caroussel.css\";import Collapse from\"../Collapse/Collapse\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Logement=function Logement(){var params=useParams();//=> pendra ici l'id en paramètre\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];//=> permet de changer l'état des données avec data comme variable avec valeur initiale et sa fonction setData fonction qui prend la modification\nvar navigate=useNavigate();//=> permet une redirection, une navigation vers la page 404 ici\nuseEffect(function(){//=> permet d'effectuer une action, ici une requête GET, à un moment donné du cycle de vie du composant\nvar getLogement=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result,logement;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/data.JSON\");case 2:result=_context.sent;//axios va me chercher l'Url, récupère les data sans besoin de convertir au format json\nlogement=result.data.find(function(_ref2){var id=_ref2.id;return id===params.id;});//console.log(logement);\n//console.log(logement.id);\n//console.log(logement.pictures);\n// console.log(logement.title);\n// console.log(logement.location);\n// console.log(logement.pictures.length);\nsetData(logement);if(logement===undefined||null){navigate(\"/Erreur\",{state:{message:\"error\"}});}case 6:case\"end\":return _context.stop();}},_callee);}));return function getLogement(){return _ref.apply(this,arguments);};}();getLogement();},[]);//Quand nous voulons afficher la valeur actuelle de LogData dans une classe, nous récupérons la valeur de this.state.data\n//Dans une fonction, nous pouvons directement utiliser LogData\n//Dans une classe, nous devons appeler this.setState() pour mettre à jour l’état data\n//Dans une fonction, nous récupérons directement setData et LogData comme variables, nous n’avons donc pas besoin de this :\nreturn data&&/*#__PURE__*/_jsxs(\"div\",{className:\"FicheLogement\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"banner-fiche\",children:/*#__PURE__*/_jsx(Carousel,{slide:data.pictures})}),/*#__PURE__*/_jsx(\"section\",{className:\"coucou\",children:/*#__PURE__*/_jsx(\"section\",{className:\"InfoSection\",children:/*#__PURE__*/_jsx(\"div\",{className:\"divTitle\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"ficheTitle\",children:data.title})})})}),/*#__PURE__*/_jsxs(\"section\",{className:\"DescrEquip\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Divcollapse__logement\",children:/*#__PURE__*/_jsx(Collapse,{className:\"collapses-logement\",title:\"Description\",description:data.description})}),/*#__PURE__*/_jsx(\"div\",{className:\"Divcollapse__logement\",children:/*#__PURE__*/_jsx(Collapse,{className:\"collapse__logement\",title:\"Equipements\",description:data.options.map(function(equip){return/*#__PURE__*/_jsx(\"li\",{className:\"options\",children:equip},equip);})})})]})]});};export default Logement;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","Carousel","Collapse","Logement","params","data","setData","navigate","getLogement","get","result","logement","find","id","undefined","state","message","pictures","title","description","options","map","equip"],"sources":["C:/Users/gheza/OneDrive/Bureau/RKauto/RKauto2/src/components/Logement/Logements.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Carousel from \"../Caroussel/Caroussel\";\r\nimport \"../Caroussel/Caroussel.css\";\r\nimport Collapse from \"../Collapse/Collapse\";\r\n\r\nconst Logement = () => {\r\n  const params = useParams();\r\n  //=> pendra ici l'id en paramètre\r\n  const [data, setData] = useState();\r\n  //=> permet de changer l'état des données avec data comme variable avec valeur initiale et sa fonction setData fonction qui prend la modification\r\n  const navigate = useNavigate();\r\n  //=> permet une redirection, une navigation vers la page 404 ici\r\n\r\n  useEffect(() => {\r\n    //=> permet d'effectuer une action, ici une requête GET, à un moment donné du cycle de vie du composant\r\n    const getLogement = async () => {\r\n      const result = await axios.get(\"/data.JSON\"); //axios va me chercher l'Url, récupère les data sans besoin de convertir au format json\r\n      const logement = result.data.find(({ id }) => id === params.id);\r\n      //console.log(logement);\r\n      //console.log(logement.id);\r\n      //console.log(logement.pictures);\r\n      // console.log(logement.title);\r\n      // console.log(logement.location);\r\n      // console.log(logement.pictures.length);\r\n      setData(logement);\r\n\r\n      if (logement === undefined || null) {\r\n        navigate(\"/Erreur\", { state: { message: \"error\" } });\r\n      }\r\n    };\r\n    getLogement();\r\n  }, []);\r\n  //Quand nous voulons afficher la valeur actuelle de LogData dans une classe, nous récupérons la valeur de this.state.data\r\n  //Dans une fonction, nous pouvons directement utiliser LogData\r\n  //Dans une classe, nous devons appeler this.setState() pour mettre à jour l’état data\r\n  //Dans une fonction, nous récupérons directement setData et LogData comme variables, nous n’avons donc pas besoin de this :\r\n\r\n  return (\r\n    data && (\r\n      <div className=\"FicheLogement\">\r\n        <div className=\"banner-fiche\">\r\n          <Carousel slide={data.pictures} />\r\n        </div>\r\n        <section className=\"coucou\">\r\n          <section className=\"InfoSection\">\r\n            <div className=\"divTitle\">\r\n              <h1 className=\"ficheTitle\">{data.title}</h1>\r\n            </div>\r\n          </section>\r\n        </section>\r\n\r\n        <section className=\"DescrEquip\">\r\n          <div className=\"Divcollapse__logement\">\r\n            <Collapse\r\n              className=\"collapses-logement\"\r\n              title=\"Description\"\r\n              description={data.description}\r\n            />\r\n          </div>\r\n          <div className=\"Divcollapse__logement\">\r\n            <Collapse\r\n              className=\"collapse__logement\"\r\n              title=\"Equipements\"\r\n              description={data.options.map((equip) => (\r\n                <li key={equip} className=\"options\">\r\n                  {equip}\r\n                </li>\r\n              ))}\r\n            />\r\n          </div>\r\n        </section>\r\n      </div>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Logement;\r\n"],"mappings":"yZAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,SAAQ,KAAM,wBAAwB,CAC7C,MAAO,4BAA4B,CACnC,MAAOC,SAAQ,KAAM,sBAAsB,CAAC,wFAE5C,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,GAAMC,OAAM,CAAGN,SAAS,EAAE,CAC1B;AACA,cAAwBF,QAAQ,EAAE,wCAA3BS,IAAI,eAAEC,OAAO,eACpB;AACA,GAAMC,SAAQ,CAAGR,WAAW,EAAE,CAC9B;AAEAF,SAAS,CAAC,UAAM,CACd;AACA,GAAMW,YAAW,4FAAG,8KACGR,MAAK,CAACS,GAAG,CAAC,YAAY,CAAC,QAAtCC,MAAM,eAAkC;AACxCC,QAAQ,CAAGD,MAAM,CAACL,IAAI,CAACO,IAAI,CAAC,mBAAGC,GAAE,OAAFA,EAAE,OAAOA,GAAE,GAAKT,MAAM,CAACS,EAAE,GAAC,CAC/D;AACA;AACA;AACA;AACA;AACA;AACAP,OAAO,CAACK,QAAQ,CAAC,CAEjB,GAAIA,QAAQ,GAAKG,SAAS,EAAI,IAAI,CAAE,CAClCP,QAAQ,CAAC,SAAS,CAAE,CAAEQ,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAQ,CAAE,CAAC,CAAC,CACtD,CAAC,qDACF,kBAdKR,YAAW,0CAchB,CACDA,WAAW,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CACN;AACA;AACA;AACA;AAEA,MACEH,KAAI,eACF,aAAK,SAAS,CAAC,eAAe,wBAC5B,YAAK,SAAS,CAAC,cAAc,uBAC3B,KAAC,QAAQ,EAAC,KAAK,CAAEA,IAAI,CAACY,QAAS,EAAG,EAC9B,cACN,gBAAS,SAAS,CAAC,QAAQ,uBACzB,gBAAS,SAAS,CAAC,aAAa,uBAC9B,YAAK,SAAS,CAAC,UAAU,uBACvB,WAAI,SAAS,CAAC,YAAY,UAAEZ,IAAI,CAACa,KAAK,EAAM,EACxC,EACE,EACF,cAEV,iBAAS,SAAS,CAAC,YAAY,wBAC7B,YAAK,SAAS,CAAC,uBAAuB,uBACpC,KAAC,QAAQ,EACP,SAAS,CAAC,oBAAoB,CAC9B,KAAK,CAAC,aAAa,CACnB,WAAW,CAAEb,IAAI,CAACc,WAAY,EAC9B,EACE,cACN,YAAK,SAAS,CAAC,uBAAuB,uBACpC,KAAC,QAAQ,EACP,SAAS,CAAC,oBAAoB,CAC9B,KAAK,CAAC,aAAa,CACnB,WAAW,CAAEd,IAAI,CAACe,OAAO,CAACC,GAAG,CAAC,SAACC,KAAK,qBAClC,WAAgB,SAAS,CAAC,SAAS,UAChCA,KAAK,EADCA,KAAK,CAET,EACN,CAAE,EACH,EACE,GACE,GAEb,CAEL,CAAC,CAED,cAAenB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}